var t={d:(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{Z:()=>m});class r{identityMatrix(){return[1,0,0,0,1,0,0,0,1]}projectionMatrix(t,e){return[2/t,0,0,0,2/e,0,-1,-1,1]}translationMatrix(t,e){return[1,0,0,0,1,0,t,e,1]}rotationMatrix(t){const e=t/180*Math.PI,r=Math.sin(e),o=Math.cos(e);return[o,-r,0,r,o,0,0,0,1]}scaleMatrix(t,e){return[t,0,0,0,e,0,0,0,1]}arrayToMatrix(t,e){const r=[];for(let o=0;o<t.length;o+=e)r.push(t.slice(o,o+e));return r}multiplyMatrices(t,e){if(t.length===e.length&&[1,4,9,16].includes(t.length)){const r=Math.sqrt(t.length),o=this.arrayToMatrix(t,r),i=this.arrayToMatrix(e,r);return o.map(((t,e)=>i[0].map(((r,n)=>t.reduce(((t,r,a)=>t+o[e][a]*i[a][n]),0))))).flat(1)}}}function o(t,e,r){const o=function(t,e,r){const o=t.createProgram();if(t.attachShader(o,e),t.attachShader(o,r),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS))return o;console.log(t.getProgramInfoLog(o)),t.deleteProgram(o)}(t,a(t,t.VERTEX_SHADER,e),a(t,t.FRAGMENT_SHADER,r));return o}function i(t){t.viewport(0,0,t.canvas.width,t.canvas.height),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)}function n(t){const e=new r,o=e.identityMatrix(),i=e.projectionMatrix(t.canvas.width,t.canvas.height),n=e.translationMatrix(0,0),a=e.rotationMatrix(0),s=e.scaleMatrix(1,1);let c=e.multiplyMatrices(o,i);return c=e.multiplyMatrices(c,n),c=e.multiplyMatrices(c,a),c=e.multiplyMatrices(c,s),c}function a(t,e,r){const o=t.createShader(e);if(t.shaderSource(o,r),t.compileShader(o),t.getShaderParameter(o,t.COMPILE_STATUS))return o;console.log(t.getShaderInfoLog(o)),t.deleteShader(o)}const s="attribute vec2 a_position;\r\nuniform mat3 u_matrix;\r\n\r\nvoid main() {\r\n    gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\r\n}",c="precision mediump float;\r\nuniform vec4 u_color;\r\n\r\nvoid main() {\r\n    gl_FragColor = u_color;\r\n}";class l{getTickInfo(t,e){const r=t/e,o=Math.pow(10,Math.floor(Math.log10(r))),i=r/o,n=(i<10?[1,1.5,2,3,5,7,10].find((t=>t>i)):10)*o;return{tickHeight:n,tickCount:Math.ceil(t/n)}}drawLines(t,e){const r=o(t,s,c),a=t.getAttribLocation(r,"a_position"),l=t.getUniformLocation(r,"u_color"),h=t.getUniformLocation(r,"u_matrix"),u=n(t),f=Math.max(...e.map(Math.abs)),g=this.getTickInfo(f,8),m=t.canvas.width,d=t.canvas.height,v=Math.floor(Math.min(m,d)/100),A=(d-2*v)/7,b=[],R=v,p=m-v;for(let t=1;t<=g.tickCount;t++){const e=t*A;b.push(R,e,p,e)}console.log(b);const x=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,x),t.bufferData(t.ARRAY_BUFFER,new Int16Array(b),t.STATIC_DRAW),i(t),t.useProgram(r),t.uniform4f(l,.7,.7,.7,1),t.uniformMatrix3fv(h,!1,u),t.useProgram(r),t.enableVertexAttribArray(a),t.bindBuffer(t.ARRAY_BUFFER,x),t.vertexAttribPointer(a,2,t.SHORT,!1,0,0),t.drawArrays(t.LINES,0,b.length/2),g.tickCount*g.tickHeight}drawBars(t,e,r){const i=o(t,s,c),a=t.getAttribLocation(i,"a_position"),l=t.getUniformLocation(i,"u_color"),h=t.getUniformLocation(i,"u_matrix"),u=n(t),f=t.canvas.width,g=t.canvas.height,m=Math.floor(Math.min(f,g)/100),d=f-2*m,v=(g-2*m)/r,A=[],b=e.length,R=d/b;for(let t=0;t<b;t++){const r=m+e[t]*v,o=m+R*t+R/5,i=m+R*(t+1)-R/5;A.push(o,m,o,r,i,r),A.push(o,m,i,m,i,r)}const p=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,p),t.bufferData(t.ARRAY_BUFFER,new Float32Array(A),t.STATIC_DRAW),t.useProgram(i),t.uniformMatrix3fv(h,!1,u),t.enableVertexAttribArray(a),t.bindBuffer(t.ARRAY_BUFFER,p);for(let e=0;e<b;e++)t.uniform4f(l,Math.random(),Math.random(),Math.random(),1),t.vertexAttribPointer(a,2,t.FLOAT,!1,0,12*e*Float32Array.BYTES_PER_ELEMENT),t.drawArrays(t.TRIANGLES,0,12)}drawRect(t){const e=o(t,"attribute vec2 a_position;\r\nuniform vec4 u_color;\r\nuniform mat3 u_matrix;\r\nvarying vec4 v_color;\r\n\r\nvoid main() {\r\n    gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\r\n    v_color = u_color;\r\n}","precision mediump float;\r\nvarying vec4 v_color;\r\n\r\nvoid main() {\r\n    gl_FragColor = v_color;\r\n}"),r=t.getAttribLocation(e,"a_position"),a=t.getUniformLocation(e,"u_color"),s=t.getUniformLocation(e,"u_matrix"),c=n(t),l=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,l),t.bufferData(t.ARRAY_BUFFER,new Int16Array([0,0,0,50,50,50,0,0,50,0,50,50]),t.STATIC_DRAW),i(t),t.useProgram(e),t.uniformMatrix3fv(s,!1,c),t.enableVertexAttribArray(r),t.uniform4f(a,.5,.5,.5,1),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(r,2,t.SHORT,!1,0,0),t.drawArrays(t.TRIANGLES,0,3),t.enableVertexAttribArray(r),t.uniform4f(a,.1,.5,.9,1),t.bindBuffer(t.ARRAY_BUFFER,l),t.vertexAttribPointer(r,2,t.SHORT,!1,0,6*Int16Array.BYTES_PER_ELEMENT),t.drawArrays(t.TRIANGLES,0,3)}drawF(t){const e=o(t,"attribute vec2 a_position;\r\nvarying vec4 v_color;\r\nuniform mat3 u_matrix;\r\nvoid main() {\r\n    gl_Position = vec4((u_matrix * vec3(a_position, 1)).xy, 0, 1);\r\n    v_color = gl_Position;\r\n}","precision mediump float;\r\nvarying vec4 v_color;\r\nvoid main() {\r\n    gl_FragColor = v_color;\r\n}");t.useProgram(e);const r=t.getAttribLocation(e,"a_position"),a=t.getUniformLocation(e,"u_matrix");i(t);const s=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,s),this.setGeometry(t),t.enableVertexAttribArray(r);const c=t.FLOAT;t.vertexAttribPointer(r,2,c,!1,0,0);const l=n(t);t.uniformMatrix3fv(a,!1,l);const h=t.TRIANGLES;t.drawArrays(h,0,18)}setGeometry(t){t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,30,0,0,150,0,150,30,0,30,150,30,0,100,0,30,30,30,30,100,0,100,30,30,60,67,60,30,90,30,90,67,60,67,90]),t.STATIC_DRAW)}}class h{constructor(t){let e=t;if("string"==typeof e&&(e=document.getElementById(e.replace("/^#/",""))),e instanceof HTMLCanvasElement)this.context=e.getContext("webgl");else{if(!(e instanceof WebGLRenderingContext))throw Error("Argument must be valid ID, HTMLCanvasElement or WebGLRenderingContext");this.context=e}this.initializeCanvas()}initializeCanvas(){this.resizeObserver=new ResizeObserver((t=>this.onResizeCallback(t)));const{canvas:t}=this.context;try{this.resizeObserver.observe(t,{box:"device-pixel-content-box"})}catch(e){this.resizeObserver.observe(t,{box:"content-box"})}}onResizeCallback(t){t.forEach((t=>{const e=t.devicePixelContentBoxSize?1:window.devicePixelRatio,{inlineSize:r,blockSize:o}=this.getWidthAndHeight(t);console.log(`Resize to ${r} x ${o}, dpr ${e}`)}))}getWidthAndHeight(t){return t.devicePixelContentBoxSize?t.devicePixelContentBoxSize[0]:t.contentBoxSize?t.contentBoxSize[0]:{inlineSize:t.contentRect.width,blockSize:t.contentRect.height}}setNewCanvasSize(t,e,r){const o=Math.round(t*r),i=Math.round(e*r);this.displayWidth=o,this.displayHeight=i}}const u=class{static sliceOrFill(t,e,r){if(t.length===e)return t;if(t.length>e)return t.slice(0,e);if(t.length<e)for(;t.length!==e;)t.push(null!=r?r:0);return t}static mergeRight(t,e){const r=Object.keys(e);Object.entries(t).forEach((t=>{const o=t[0];if(r.includes(o)){const r=t[1];e[o]=r}}))}};class f extends h{constructor(t){super(t),this.optionsForChart={title:"Untitled",showTitle:!0,showLegend:!1},this.seriesData=[]}set X(t){this.dataLabels=t}set Y(t){const{length:e}=this.dataLabels;if(!e)throw Error('Values on "X" axis must be specified before setting "Y" values.');const r=t.map((t=>u.sliceOrFill(t,e)));this.seriesData=r.map(((t,e)=>this.getDefaultSerieObject(t,e)))}getDefaultSerieObject(t,e){return{values:t,name:`serie${e}`,options:{color:{r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:255},showLabels:!1,showOnLegend:!1,edgeThickness:0}}}setChartOptions(t){u.mergeRight(this.optionsForChart,t)}setSerieOptions(t,e){e?e.forEach((e=>{const r=this.seriesData.find((t=>t.name==e));r?u.mergeRight(t,r.options):console.warn(`Serie with name ${e} not found.`)})):this.seriesData.forEach((e=>u.mergeRight(t,e.options)))}draw(){const t=new l,e=t.drawLines(this.context,this.seriesData[0].values);t.drawBars(this.context,this.seriesData[0].values,e)}}class g extends h{constructor(t){super(t),this.optionsForChart={title:"Untitled",showTitle:!0,showLegend:!1},this.seriesData=[]}set X(t){this.seriesData=t.map((t=>this.getDefaultSerieObject(t)))}set Y(t){const{length:e}=this.seriesData;if(!e)throw Error('Values on "X" axis must be specified before setting "Y" values.');const r=u.sliceOrFill(t,e);this.seriesData.map(((t,e)=>{t.value=r[e]}))}getDefaultSerieObject(t){return{value:0,name:t,options:{color:{r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:255},showLabels:!1,showOnLegend:!1,edgeThickness:0}}}setChartOptions(t){u.mergeRight(this.optionsForChart,t)}setSerieOptions(t,e){e?e.forEach((e=>{const r=this.seriesData.find((t=>t.name==e));r?u.mergeRight(t,r.options):console.warn(`Serie with name ${e} not found.`)})):this.seriesData.forEach((e=>u.mergeRight(t,e.options)))}draw(){throw Error("Not implemented yet")}}function m(t,e){switch(t.toLowerCase().trim()){case"pie":return new g(e);case"bar":return new f(e);default:throw new Error(`${t} chart is not defined.`)}}var d=e.Z;export{d as default};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJBQUNBLElBQUlBLEVBQXNCLENDQTFCQSxFQUF3QixDQUFDQyxFQUFTQyxLQUNqQyxJQUFJLElBQUlDLEtBQU9ELEVBQ1hGLEVBQW9CSSxFQUFFRixFQUFZQyxLQUFTSCxFQUFvQkksRUFBRUgsRUFBU0UsSUFDNUVFLE9BQU9DLGVBQWVMLEVBQVNFLEVBQUssQ0FBRUksWUFBWSxFQUFNQyxJQUFLTixFQUFXQyxNQ0ozRUgsRUFBd0IsQ0FBQ1MsRUFBS0MsSUFBVUwsT0FBT00sVUFBVUMsZUFBZUMsS0FBS0osRUFBS0MsSSxzQkNBbkUsTUFBTUksRUFDakJDLGlCQUNJLE1BQU8sQ0FDSCxFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsR0FNZEMsaUJBQWlCQyxFQUFlQyxHQUM1QixNQUFPLENBQ0gsRUFBSUQsRUFBTyxFQUFHLEVBQ2QsRUFBRyxFQUFJQyxFQUFRLEdBQ2QsR0FBSSxFQUFHLEdBR2hCQyxrQkFBa0JDLEVBQVlDLEdBQzFCLE1BQU8sQ0FDSCxFQUFHLEVBQUcsRUFDTixFQUFHLEVBQUcsRUFDTkQsRUFBSUMsRUFBSSxHQUdoQkMsZUFBZUMsR0FDWCxNQUFNQyxFQUFVRCxFQUFVLElBQU1FLEtBQUtDLEdBQy9CQyxFQUFJRixLQUFLRyxJQUFJSixHQUNiSyxFQUFJSixLQUFLSyxJQUFJTixHQUNuQixNQUFPLENBQ0hLLEdBQUlGLEVBQUcsRUFDUEEsRUFBR0UsRUFBRyxFQUNOLEVBQUcsRUFBRyxHQUdkRSxZQUFZQyxFQUFZQyxHQUNwQixNQUFPLENBQ0hELEVBQUksRUFBRyxFQUNQLEVBQUdDLEVBQUksRUFDUCxFQUFHLEVBQUcsR0FJTkMsY0FBY0MsRUFBZUMsR0FDakMsTUFBTUMsRUFBa0IsR0FDeEIsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUlILEVBQUlJLE9BQVFELEdBQUtGLEVBQ2pDQyxFQUFJRyxLQUFLTCxFQUFJTSxNQUFNSCxFQUFHQSxFQUFJRixJQUM5QixPQUFPQyxFQUlYSyxpQkFBaUJDLEVBQWFDLEdBQzFCLEdBQUlELEVBQUVKLFNBQVdLLEVBQUVMLFFBQVUsQ0FBQyxFQUFHLEVBQUcsRUFBRyxJQUFJTSxTQUFTRixFQUFFSixRQUFTLENBQzNELE1BQU1PLEVBQU1yQixLQUFLc0IsS0FBS0osRUFBRUosUUFDbEJTLEVBQUlDLEtBQUtmLGNBQWNTLEVBQUdHLEdBQzFCSSxFQUFJRCxLQUFLZixjQUFjVSxFQUFHRSxHQUNoQyxPQUFPRSxFQUFFRyxLQUFJLENBQUNDLEVBQUtkLElBQ2ZZLEVBQUUsR0FBR0MsS0FBSSxDQUFDRSxFQUFHQyxJQUNURixFQUFJRyxRQUFPLENBQUNDLEVBQUtILEVBQUdJLElBQ2hCRCxFQUFNUixFQUFFVixHQUFHbUIsR0FBS1AsRUFBRU8sR0FBR0gsSUFBSSxPQUduQ0ksS0FBSyxLQzVEWixTQUFTQyxFQUF5QkMsRUFBMkJDLEVBQVlDLEdBQzVFLE1BRU1DLEVBMkNWLFNBQXVCSCxFQUEyQkksRUFBMkJDLEdBQ3pFLE1BQU1GLEVBQVVILEVBQUdNLGdCQU1uQixHQUxBTixFQUFHTyxhQUFhSixFQUFTQyxHQUN6QkosRUFBR08sYUFBYUosRUFBU0UsR0FDekJMLEVBQUdRLFlBQVlMLEdBRUNILEVBQUdTLG9CQUFvQk4sRUFBU0gsRUFBR1UsYUFDdEMsT0FBT1AsRUFFcEJRLFFBQVFDLElBQUlaLEVBQUdhLGtCQUFrQlYsSUFDakNILEVBQUdjLGNBQWNYLEdBckRERyxDQUFjTixFQUZUZSxFQUFhZixFQUFJQSxFQUFHZ0IsY0FBZWYsR0FDakNjLEVBQWFmLEVBQUlBLEVBQUdpQixnQkFBaUJmLElBRTVELE9BQU9DLEVBR0osU0FBU2UsRUFBWWxCLEdBQ3hCQSxFQUFHbUIsU0FBUyxFQUFHLEVBQUduQixFQUFHb0IsT0FBTy9ELE1BQU8yQyxFQUFHb0IsT0FBTzlELFFBQzdDMEMsRUFBR3FCLFdBQVcsRUFBRyxFQUFHLEVBQUcsR0FDdkJyQixFQUFHc0IsTUFBTXRCLEVBQUd1QixrQkFHVCxTQUFTQyxFQUF3QnhCLEdBQ3BDLE1BQU15QixFQUF1QixJQUFJdkUsRUFPM0JDLEVBQWlCc0UsRUFBVXRFLGlCQUMzQkMsRUFBbUJxRSxFQUFVckUsaUJBQWlCNEMsRUFBR29CLE9BQU8vRCxNQUFPMkMsRUFBR29CLE9BQU85RCxRQUN6RUMsRUFBb0JrRSxFQUFVbEUsa0JBUmYsRUFDQSxHQVFmRyxFQUFpQitELEVBQVUvRCxlQVBQLEdBUXBCUyxFQUFjc0QsRUFBVXRELFlBUGYsRUFDQSxHQVFmLElBQUl1RCxFQUFTRCxFQUFVM0MsaUJBQWlCM0IsRUFBZ0JDLEdBSXhELE9BSEFzRSxFQUFTRCxFQUFVM0MsaUJBQWlCNEMsRUFBUW5FLEdBQzVDbUUsRUFBU0QsRUFBVTNDLGlCQUFpQjRDLEVBQVFoRSxHQUM1Q2dFLEVBQVNELEVBQVUzQyxpQkFBaUI0QyxFQUFRdkQsR0FDckN1RCxFQUdYLFNBQVNYLEVBQWFmLEVBQTJCMkIsRUFBY0MsR0FDM0QsTUFBTUMsRUFBUzdCLEVBQUdlLGFBQWFZLEdBSy9CLEdBSkEzQixFQUFHOEIsYUFBYUQsRUFBUUQsR0FDeEI1QixFQUFHK0IsY0FBY0YsR0FFRDdCLEVBQUdnQyxtQkFBbUJILEVBQVE3QixFQUFHaUMsZ0JBQ3BDLE9BQU9KLEVBRXBCbEIsUUFBUUMsSUFBSVosRUFBR2tDLGlCQUFpQkwsSUFDaEM3QixFQUFHbUMsYUFBYU4sR0M3Q3BCLE1DQUEseUpDQUEsK0dDU2UsTUFBTU8sRUFHakJDLFlBQVlDLEVBQWlCQyxHQUN6QixNQUFNQyxFQUFVRixFQUFVQyxFQUNwQkUsRUFBWTVFLEtBQUtxQixJQUFJLEdBQUlyQixLQUFLNkUsTUFBTTdFLEtBQUs4RSxNQUFNSCxLQUMvQ0ksRUFBV0osRUFBVUMsRUFHckJJLEdBRE9ELEVBQVcsR0FEVixDQUFDLEVBQUcsSUFBSyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBQ0FFLE1BQU1DLEdBQU9BLEVBQUlILElBQWEsSUFDdkNILEVBRTFCLE1BQU8sQ0FBRUksV0FBQUEsRUFBWUcsVUFESG5GLEtBQUtvRixLQUFLWCxFQUFVTyxJQUkxQ0ssVUFBVWxELEVBQTJCbUQsR0FDakMsTUFBTWhELEVBQVVKLEVBQXlCQyxFQUFJLEVBQWUsR0FDdERvRCxFQUFlcEQsRUFBR3FELGtCQUFrQmxELEVBQVMsY0FDN0NtRCxFQUFZdEQsRUFBR3VELG1CQUFtQnBELEVBQVMsV0FDM0NxRCxFQUFheEQsRUFBR3VELG1CQUFtQnBELEVBQVMsWUFDNUN1QixFQUFTRixFQUF3QnhCLEdBRWpDeUQsRUFBTTVGLEtBQUs0RixPQUFPTixFQUFPNUQsSUFBSTFCLEtBQUs2RixNQUVsQ0MsRUFBV3RFLEtBQUtnRCxZQUFZb0IsRUFBSyxHQUNqQ0csRUFBSTVELEVBQUdvQixPQUFPL0QsTUFDZHdHLEVBQUk3RCxFQUFHb0IsT0FBTzlELE9BQ2R3RyxFQUFVakcsS0FBSzZFLE1BQU03RSxLQUFLa0csSUFBSUgsRUFBR0MsR0FBSyxLQUN0Q0csR0FBdUJILEVBQUksRUFBSUMsR0FBVyxFQUMxQ0csRUFBYyxHQUNkQyxFQUFRSixFQUNSSyxFQUFNUCxFQUFJRSxFQUNoQixJQUFLLElBQUlwRixFQUFJLEVBQUdBLEdBQUtpRixFQUFTWCxVQUFXdEUsSUFBSyxDQUMxQyxNQUFNMEYsRUFBUTFGLEVBQUlzRixFQUNsQkMsRUFBWXJGLEtBQUtzRixFQUFPRSxFQUFPRCxFQUFLQyxHQUV4Q3pELFFBQVFDLElBQUlxRCxHQUVaLE1BQU1JLEVBQWFyRSxFQUFHc0UsZUFldEIsT0FkQXRFLEVBQUd1RSxXQUFXdkUsRUFBR3dFLGFBQWNILEdBQy9CckUsRUFBR3lFLFdBQVd6RSxFQUFHd0UsYUFBYyxJQUFJRSxXQUFXVCxHQUFjakUsRUFBRzJFLGFBRS9EekQsRUFBWWxCLEdBQ1pBLEVBQUc0RSxXQUFXekUsR0FDZEgsRUFBRzZFLFVBQVV2QixFQUFXLEdBQUssR0FBSyxHQUFLLEdBQ3ZDdEQsRUFBRzhFLGlCQUFpQnRCLEdBQVksRUFBTzlCLEdBRXZDMUIsRUFBRzRFLFdBQVd6RSxHQUNkSCxFQUFHK0Usd0JBQXdCM0IsR0FDM0JwRCxFQUFHdUUsV0FBV3ZFLEVBQUd3RSxhQUFjSCxHQUMvQnJFLEVBQUdnRixvQkFBb0I1QixFQUFjLEVBQUdwRCxFQUFHaUYsT0FBTyxFQUFPLEVBQUcsR0FDNURqRixFQUFHa0YsV0FBV2xGLEVBQUdtRixNQUFPLEVBQUdsQixFQUFZdEYsT0FBUyxHQUV6Q2dGLEVBQVNYLFVBQVlXLEVBQVNkLFdBR3pDdUMsU0FBU3BGLEVBQTJCbUQsRUFBa0JNLEdBQ2xELE1BQU10RCxFQUFVSixFQUF5QkMsRUFBSSxFQUFlLEdBQ3REb0QsRUFBZXBELEVBQUdxRCxrQkFBa0JsRCxFQUFTLGNBQzdDbUQsRUFBWXRELEVBQUd1RCxtQkFBbUJwRCxFQUFTLFdBQzNDcUQsRUFBYXhELEVBQUd1RCxtQkFBbUJwRCxFQUFTLFlBQzVDdUIsRUFBU0YsRUFBd0J4QixHQUVqQzRELEVBQUk1RCxFQUFHb0IsT0FBTy9ELE1BQ2R3RyxFQUFJN0QsRUFBR29CLE9BQU85RCxPQUNkd0csRUFBVWpHLEtBQUs2RSxNQUFNN0UsS0FBS2tHLElBQUlILEVBQUdDLEdBQUssS0FFdEN3QixFQUFJekIsRUFBSSxFQUFJRSxFQUNad0IsR0FGSXpCLEVBQUksRUFBSUMsR0FFSUwsRUFFaEI4QixFQUFZLEdBQ1pDLEVBQVdyQyxFQUFPeEUsT0FDbEI4RyxFQUFlSixFQUFJRyxFQUV6QixJQUFLLElBQUk5RyxFQUFJLEVBQUdBLEVBQUk4RyxFQUFVOUcsSUFBSyxDQUMvQixNQUFNZ0gsRUFBWTVCLEVBQVVYLEVBQU96RSxHQUFLNEcsRUFDbENLLEVBQWE3QixFQUFXMkIsRUFBZS9HLEVBQU0rRyxFQUFlLEVBQzVERyxFQUFhOUIsRUFBVzJCLEdBQWdCL0csRUFBSSxHQUFPK0csRUFBZSxFQUN4RUYsRUFBVTNHLEtBQUsrRyxFQUFZN0IsRUFBUzZCLEVBQVlELEVBQVdFLEVBQVlGLEdBQ3ZFSCxFQUFVM0csS0FBSytHLEVBQVk3QixFQUFTOEIsRUFBWTlCLEVBQVM4QixFQUFZRixHQUd6RSxNQUFNckIsRUFBYXJFLEVBQUdzRSxlQUN0QnRFLEVBQUd1RSxXQUFXdkUsRUFBR3dFLGFBQWNILEdBQy9CckUsRUFBR3lFLFdBQVd6RSxFQUFHd0UsYUFBYyxJQUFJcUIsYUFBYU4sR0FBWXZGLEVBQUcyRSxhQUUvRDNFLEVBQUc0RSxXQUFXekUsR0FDZEgsRUFBRzhFLGlCQUFpQnRCLEdBQVksRUFBTzlCLEdBQ3ZDMUIsRUFBRytFLHdCQUF3QjNCLEdBQzNCcEQsRUFBR3VFLFdBQVd2RSxFQUFHd0UsYUFBY0gsR0FDL0IsSUFBSyxJQUFJM0YsRUFBSSxFQUFHQSxFQUFJOEcsRUFBVTlHLElBQzFCc0IsRUFBRzZFLFVBQVV2QixFQUFXekYsS0FBS2lJLFNBQVVqSSxLQUFLaUksU0FBVWpJLEtBQUtpSSxTQUFVLEdBQ3JFOUYsRUFBR2dGLG9CQUFvQjVCLEVBQWMsRUFBR3BELEVBQUcrRixPQUFPLEVBQU8sRUFBTyxHQUFKckgsRUFBU21ILGFBQWFHLG1CQUNsRmhHLEVBQUdrRixXQUFXbEYsRUFBR2lHLFVBQVcsRUFBRyxJQUl2Q0MsU0FBU2xHLEdBRUwsTUFBTUcsRUFBVUosRUFBeUJDLEVDM0dqRCxtT0NBQSw4R0Y2R2NtRyxFQUE0Qm5HLEVBQUdxRCxrQkFBa0JsRCxFQUFTLGNBQzFEaUcsRUFBdUJwRyxFQUFHdUQsbUJBQW1CcEQsRUFBUyxXQUN0RGtHLEVBQXdCckcsRUFBR3VELG1CQUFtQnBELEVBQVMsWUFDdkR1QixFQUFTRixFQUF3QnhCLEdBRWpDcUUsRUFBYXJFLEVBQUdzRSxlQUN0QnRFLEVBQUd1RSxXQUFXdkUsRUFBR3dFLGFBQWNILEdBQy9CckUsRUFBR3lFLFdBQVd6RSxFQUFHd0UsYUFBYyxJQUFJRSxXQUFXLENBQUMsRUFBRyxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEdBQUksRUFBRyxHQUFJLEtBQU0xRSxFQUFHMkUsYUFHOUZ6RCxFQUFZbEIsR0FDWkEsRUFBRzRFLFdBQVd6RSxHQUNkSCxFQUFHOEUsaUJBQWlCdUIsR0FBdUIsRUFBTzNFLEdBR2xEMUIsRUFBRytFLHdCQUF3Qm9CLEdBQzNCbkcsRUFBRzZFLFVBQVV1QixFQUFzQixHQUFLLEdBQUssR0FBSyxHQUNsRHBHLEVBQUd1RSxXQUFXdkUsRUFBR3dFLGFBQWNILEdBQy9CckUsRUFBR2dGLG9CQUFvQm1CLEVBQTJCLEVBQUduRyxFQUFHaUYsT0FBTyxFQUFPLEVBQUcsR0FDekVqRixFQUFHa0YsV0FBV2xGLEVBQUdpRyxVQUFXLEVBQUcsR0FHL0JqRyxFQUFHK0Usd0JBQXdCb0IsR0FDM0JuRyxFQUFHNkUsVUFBVXVCLEVBQXNCLEdBQUssR0FBSyxHQUFLLEdBQ2xEcEcsRUFBR3VFLFdBQVd2RSxFQUFHd0UsYUFBY0gsR0FDL0JyRSxFQUFHZ0Ysb0JBQW9CbUIsRUFBMkIsRUFBR25HLEVBQUdpRixPQUFPLEVBQU8sRUFBRyxFQUFJUCxXQUFXc0IsbUJBQ3hGaEcsRUFBR2tGLFdBQVdsRixFQUFHaUcsVUFBVyxFQUFHLEdBR25DSyxNQUFNdEcsR0FDRixNQUFNRyxFQUFVSixFQUF5QkMsRUgzSWpELDBNTUFBLDBHSDRJUUEsRUFBRzRFLFdBQVd6RSxHQUVkLE1BQU1nRyxFQUE0Qm5HLEVBQUdxRCxrQkFBa0JsRCxFQUFTLGNBQzFEa0csRUFBd0JyRyxFQUFHdUQsbUJBQW1CcEQsRUFBUyxZQUU3RGUsRUFBWWxCLEdBRVosTUFBTXVHLEVBQWlCdkcsRUFBR3NFLGVBQzFCdEUsRUFBR3VFLFdBQVd2RSxFQUFHd0UsYUFBYytCLEdBQy9CbEgsS0FBS21ILFlBQVl4RyxHQUNqQkEsRUFBRytFLHdCQUF3Qm9CLEdBRTNCLE1BQ014RSxFQUFPM0IsRUFBRytGLE1BSWhCL0YsRUFBR2dGLG9CQUFvQm1CLEVBTFYsRUFLMkN4RSxHQUh0QyxFQUNILEVBQ0EsR0FHZixNQUFNRCxFQUFTRixFQUF3QnhCLEdBQ3ZDQSxFQUFHOEUsaUJBQWlCdUIsR0FBdUIsRUFBTzNFLEdBRWxELE1BQU0rRSxFQUFnQnpHLEVBQUdpRyxVQUV6QmpHLEVBQUdrRixXQUFXdUIsRUFSQyxFQU9ELElBS1ZELFlBQVl4RyxHQUNoQkEsRUFBR3lFLFdBQ0N6RSxFQUFHd0UsYUFDSCxJQUFJcUIsYUFBYSxDQUViLEVBQUcsRUFDSCxHQUFJLEVBQ0osRUFBRyxJQUNILEVBQUcsSUFDSCxHQUFJLEVBQ0osR0FBSSxJQUdKLEdBQUksRUFDSixJQUFLLEVBQ0wsR0FBSSxHQUNKLEdBQUksR0FDSixJQUFLLEVBQ0wsSUFBSyxHQUdMLEdBQUksR0FDSixHQUFJLEdBQ0osR0FBSSxHQUNKLEdBQUksR0FDSixHQUFJLEdBQ0osR0FBSSxLQUVSN0YsRUFBRzJFLGNJbE1SLE1BQWUrQixFQVVsQkMsWUFBWS9FLEdBQ1IsSUFBSWdGLEVBQWtCaEYsRUFJdEIsR0FIK0IsaUJBQXBCZ0YsSUFDUEEsRUFBa0JDLFNBQVNDLGVBQWVGLEVBQWdCRyxRQUFRLE9BQVEsTUFFMUVILGFBQTJCSSxrQkFDM0IzSCxLQUFLNEgsUUFBVUwsRUFBZ0JNLFdBQVcsYUFFekMsTUFBSU4sYUFBMkJPLHVCQUcvQixNQUFNQyxNQUFNLHlFQUZiL0gsS0FBSzRILFFBQVVMLEVBR25CdkgsS0FBS2dJLG1CQVdEQSxtQkFDSmhJLEtBQUtpSSxlQUFpQixJQUFJQyxnQkFBZ0JDLEdBQTBDbkksS0FBS29JLGlCQUFpQkQsS0FDMUcsTUFBTSxPQUFFcEcsR0FBVy9CLEtBQUs0SCxRQUN4QixJQUNJNUgsS0FBS2lJLGVBQWVJLFFBQVF0RyxFQUFRLENBQUV1RyxJQUFLLDZCQUM3QyxNQUFPQyxHQUVMdkksS0FBS2lJLGVBQWVJLFFBQVF0RyxFQUFRLENBQUV1RyxJQUFLLGlCQUkzQ0YsaUJBQWlCRCxHQUNyQkEsRUFBUUssU0FBU0MsSUFDYixNQUFNQyxFQUFNRCxFQUFNRSwwQkFBNEIsRUFBSUMsT0FBT0Msa0JBQ25ELFdBQUVDLEVBQVUsVUFBRUMsR0FBa0MvSSxLQUFLZ0osa0JBQWtCUCxHQUM3RW5ILFFBQVFDLElBQUksYUFBYXVILE9BQWdCQyxVQUFrQkwsUUFLM0RNLGtCQUFrQlAsR0FDdEIsT0FBSUEsRUFBTUUsMEJBQWtDRixFQUFNRSwwQkFBMEIsR0FDeEVGLEVBQU1RLGVBQXVCUixFQUFNUSxlQUFlLEdBQy9DLENBQ0hILFdBQVlMLEVBQU1TLFlBQVlsTCxNQUM5QitLLFVBQVdOLEVBQU1TLFlBQVlqTCxRQUk3QmtMLGlCQUFpQm5MLEVBQWVDLEVBQWdCeUssR0FDcEQsTUFBTVUsRUFBZTVLLEtBQUs2SyxNQUFNckwsRUFBUTBLLEdBQ2xDWSxFQUFnQjlLLEtBQUs2SyxNQUFNcEwsRUFBU3lLLEdBQzFDMUksS0FBS29KLGFBQWVBLEVBQ3BCcEosS0FBS3NKLGNBQWdCQSxHQ3BFN0IsY0FRV0MsbUJBQW1CQyxFQUFpQkMsRUFBYUMsR0FDcEQsR0FBSUYsRUFBTWxLLFNBQVdtSyxFQUFLLE9BQU9ELEVBQ2pDLEdBQUlBLEVBQU1sSyxPQUFTbUssRUFBSyxPQUFPRCxFQUFNaEssTUFBTSxFQUFHaUssR0FDOUMsR0FBSUQsRUFBTWxLLE9BQVNtSyxFQUNmLEtBQU9ELEVBQU1sSyxTQUFXbUssR0FDcEJELEVBQU1qSyxLQUFLbUssTUFBQUEsRUFBQUEsRUFBWSxHQUMvQixPQUFPRixFQVFKRCxrQkFBcUJJLEVBQXdCQyxHQUNoRCxNQUFNQyxFQUFPek0sT0FBT3lNLEtBQUtELEdBQ3pCeE0sT0FBTytLLFFBQVF3QixHQUFZbkIsU0FBUXNCLElBQy9CLE1BQU01TSxFQUFNNE0sRUFBSyxHQUNqQixHQUFJRCxFQUFLakssU0FBUzFDLEdBQU0sQ0FDcEIsTUFBTTZNLEVBQVFELEVBQUssR0FHbkJGLEVBQWMxTSxHQUFPNk0sUUN6QjlCLE1BQU1DLFVBQWlCM0MsRUFLMUJDLFlBQVkvRSxHQUNSMEgsTUFBTTFILEdBQ052QyxLQUFLa0ssZ0JBQWtCLENBQ25CQyxNQUFPLFdBQ1BDLFdBQVcsRUFDWEMsWUFBWSxHQUVoQnJLLEtBQUtzSyxXQUFhLEdBR1hDLE1BQUVDLEdBQ1R4SyxLQUFLeUssV0FBYUQsRUFHWEUsTUFBRTVHLEdBQ1QsTUFBTSxPQUFFeEUsR0FBV1UsS0FBS3lLLFdBQ3hCLElBQUtuTCxFQUNELE1BQU15SSxNQUFNLG1FQUNoQixNQUFNNEMsRUFBZTdHLEVBQU81RCxLQUFJMEssR0FBU0MsRUFBV0MsWUFBWUYsRUFBT3RMLEtBQ3ZFVSxLQUFLc0ssV0FBYUssRUFBYXpLLEtBQUksQ0FBQzBLLEVBQU9HLElBQVUvSyxLQUFLZ0wsc0JBQXNCSixFQUFPRyxLQUduRkMsc0JBQXNCSixFQUFpQkcsR0FDM0MsTUFBTyxDQUNIRSxPQUFRTCxFQUNSTSxLQUFNLFFBQVFILElBQ2RJLFFBQVMsQ0FDTEMsTUFBTyxDQUNIQyxFQUFHN00sS0FBSzZFLE1BQXNCLElBQWhCN0UsS0FBS2lJLFVBQ25CNkUsRUFBRzlNLEtBQUs2RSxNQUFzQixJQUFoQjdFLEtBQUtpSSxVQUNuQjhFLEVBQUcvTSxLQUFLNkUsTUFBc0IsSUFBaEI3RSxLQUFLaUksVUFDbkIrRSxFQUFHLEtBRVBDLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxjQUFlLElBS3BCQyxnQkFBZ0JULEdBQ25CTixFQUFXZ0IsV0FBVzdMLEtBQUtrSyxnQkFBaUJpQixHQUd6Q1csZ0JBQWdCbkMsRUFBbUNvQyxHQUNsREEsRUFBYUEsRUFBWXZELFNBQVN3RCxJQUNsQyxNQUFNQyxFQUNGak0sS0FBS3NLLFdBQVc3RyxNQUFNeUksR0FBa0JBLEVBQWNoQixNQUFRYyxJQUM5REMsRUFDQXBCLEVBQVdnQixXQUFXbEMsRUFBWXNDLEVBQVlkLFNBRTlDN0osUUFBUTZLLEtBQUssbUJBQW1CSCxtQkFHbkNoTSxLQUFLc0ssV0FBVzlCLFNBQVNvQyxHQUFVQyxFQUFXZ0IsV0FBV2xDLEVBQVlpQixFQUFNTyxXQUc3RWlCLE9BQ0gsTUFBTUEsRUFBTyxJQUFJckosRUFDWG5FLEVBQUl3TixFQUFLdkksVUFBVTdELEtBQUs0SCxRQUFTNUgsS0FBS3NLLFdBQVcsR0FBR1csUUFDMURtQixFQUFLckcsU0FBUy9GLEtBQUs0SCxRQUFTNUgsS0FBS3NLLFdBQVcsR0FBR1csT0FBUXJNLElDbEV4RCxNQUFNeU4sVUFBaUJoRixFQUkxQkMsWUFBWS9FLEdBQ1IwSCxNQUFNMUgsR0FDTnZDLEtBQUtrSyxnQkFBa0IsQ0FDbkJDLE1BQU8sV0FDUEMsV0FBVyxFQUNYQyxZQUFZLEdBRWhCckssS0FBS3NLLFdBQWEsR0FHWEMsTUFBRUMsR0FDVHhLLEtBQUtzSyxXQUNERSxFQUFPdEssS0FBS29NLEdBQVV0TSxLQUFLZ0wsc0JBQXNCc0IsS0FHOUM1QixNQUFFTyxHQUNULE1BQU0sT0FBRTNMLEdBQVdVLEtBQUtzSyxXQUN4QixJQUFLaEwsRUFDRCxNQUFNeUksTUFBTSxtRUFDaEIsTUFBTXdFLEVBQWUxQixFQUFXQyxZQUFZRyxFQUFRM0wsR0FDcERVLEtBQUtzSyxXQUFXcEssS0FBSSxDQUFDc00sRUFBUXpCLEtBQ3pCeUIsRUFBT3pDLE1BQVF3QyxFQUFheEIsTUFJNUJDLHNCQUFzQnNCLEdBQzFCLE1BQU8sQ0FDSHZDLE1BQU8sRUFDUG1CLEtBQU1vQixFQUNObkIsUUFBUyxDQUNMQyxNQUFPLENBQ0hDLEVBQUc3TSxLQUFLNkUsTUFBc0IsSUFBaEI3RSxLQUFLaUksVUFDbkI2RSxFQUFHOU0sS0FBSzZFLE1BQXNCLElBQWhCN0UsS0FBS2lJLFVBQ25COEUsRUFBRy9NLEtBQUs2RSxNQUFzQixJQUFoQjdFLEtBQUtpSSxVQUNuQitFLEVBQUcsS0FFUEMsWUFBWSxFQUNaQyxjQUFjLEVBQ2RDLGNBQWUsSUFLcEJDLGdCQUFnQlQsR0FDbkJOLEVBQVdnQixXQUFXN0wsS0FBS2tLLGdCQUFpQmlCLEdBR3pDVyxnQkFBZ0JuQyxFQUFtQ29DLEdBQ2xEQSxFQUFhQSxFQUFZdkQsU0FBU3dELElBQ2xDLE1BQU1DLEVBQ0ZqTSxLQUFLc0ssV0FBVzdHLE1BQU15SSxHQUFrQkEsRUFBY2hCLE1BQVFjLElBQzlEQyxFQUNBcEIsRUFBV2dCLFdBQVdsQyxFQUFZc0MsRUFBWWQsU0FFOUM3SixRQUFRNkssS0FBSyxtQkFBbUJILG1CQUduQ2hNLEtBQUtzSyxXQUFXOUIsU0FBU29DLEdBQVVDLEVBQVdnQixXQUFXbEMsRUFBWWlCLEVBQU1PLFdBRzdFaUIsT0FDSCxNQUFNckUsTUFBTSx3QkNoRUwsU0FBUzBFLEVBQVduSyxFQUFjQyxHQUM3QyxPQUFRRCxFQUFLb0ssY0FBY0MsUUFDdkIsSUFBSyxNQUNELE9BQU8sSUFBSU4sRUFBUzlKLEdBQ3hCLElBQUssTUFDRCxPQUFPLElBQUl5SCxFQUFTekgsR0FDeEIsUUFDSSxNQUFNLElBQUl3RixNQUFNLEdBQUd6Riw0QiIsInNvdXJjZXMiOlsid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvLi9zcmMvcGxvdC1sb2dpYy9NYXRoVXRpbHMudHMiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC8uL3NyYy9wbG90LWxvZ2ljL1Bsb3RVdGlscy50cyIsIndlYnBhY2s6Ly9AYnJ6L3dlYmdsLWNoYXJ0Ly4vc3JjL3NoYWRlcnMvdmVydGV4U2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC8uL3NyYy9zaGFkZXJzL2V4YW1wbGVMaW5lcy92ZXJ0ZXhTaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9AYnJ6L3dlYmdsLWNoYXJ0Ly4vc3JjL3NoYWRlcnMvZXhhbXBsZUxpbmVzL2ZyYWdtZW50U2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC8uL3NyYy9wbG90LWxvZ2ljL0RyYXcudHMiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC8uL3NyYy9zaGFkZXJzL2V4YW1wbGVUd29SZWN0YW5nbGVzL3ZlcnRleFNoYWRlci5nbHNsIiwid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvLi9zcmMvc2hhZGVycy9leGFtcGxlVHdvUmVjdGFuZ2xlcy9mcmFnbWVudFNoYWRlci5nbHNsIiwid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvLi9zcmMvc2hhZGVycy9mcmFnbWVudFNoYWRlci5nbHNsIiwid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvLi9zcmMvY29tcG9uZW50cy9DaGFydC50cyIsIndlYnBhY2s6Ly9AYnJ6L3dlYmdsLWNoYXJ0Ly4vc3JjL2NvbXBvbmVudHMvQ2hhcnRVdGlscy50cyIsIndlYnBhY2s6Ly9AYnJ6L3dlYmdsLWNoYXJ0Ly4vc3JjL2NvbXBvbmVudHMvQmFyQ2hhcnQudHMiLCJ3ZWJwYWNrOi8vQGJyei93ZWJnbC1jaGFydC8uL3NyYy9jb21wb25lbnRzL1BpZUNoYXJ0LnRzIiwid2VicGFjazovL0Bicnovd2ViZ2wtY2hhcnQvLi9zcmMvY29tcG9uZW50cy9DaGFydFNlcnZhbnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYXRoVXRpbHMge1xyXG4gICAgaWRlbnRpdHlNYXRyaXgoKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIDEsIDAsIDAsXHJcbiAgICAgICAgICAgIDAsIDEsIDAsXHJcbiAgICAgICAgICAgIDAsIDAsIDEsXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIC8vIFJ5c293YW5pZSBvZCBkb2xuZWdvIGxld2VnbyByb2d1LlxyXG4gICAgLy8gQ2hjxIVjIHJ5c293YcSHIG9kIGfDs3JuZWdvIGxld2VnbyxcclxuICAgIC8vIHptaWVuacSHIG5hIC0yL2hlaWdodCBvcmF6ICsxXHJcbiAgICBwcm9qZWN0aW9uTWF0cml4KHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIDIgLyB3aWR0aCwgMCwgMCxcclxuICAgICAgICAgICAgMCwgMiAvIGhlaWdodCwgMCxcclxuICAgICAgICAgICAgLTEsIC0xLCAxXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIHRyYW5zbGF0aW9uTWF0cml4KHR4OiBudW1iZXIsIHR5OiBudW1iZXIpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgMSwgMCwgMCxcclxuICAgICAgICAgICAgMCwgMSwgMCxcclxuICAgICAgICAgICAgdHgsIHR5LCAxLFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICByb3RhdGlvbk1hdHJpeChkZWdyZWVzOiBudW1iZXIpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgY29uc3QgcmFkaWFucyA9IGRlZ3JlZXMgLyAxODAgKiBNYXRoLlBJO1xyXG4gICAgICAgIGNvbnN0IHMgPSBNYXRoLnNpbihyYWRpYW5zKTtcclxuICAgICAgICBjb25zdCBjID0gTWF0aC5jb3MocmFkaWFucyk7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgYywgLXMsIDAsXHJcbiAgICAgICAgICAgIHMsIGMsIDAsXHJcbiAgICAgICAgICAgIDAsIDAsIDEsXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuICAgIHNjYWxlTWF0cml4KHN4OiBudW1iZXIsIHN5OiBudW1iZXIpOiBudW1iZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgc3gsIDAsIDAsXHJcbiAgICAgICAgICAgIDAsIHN5LCAwLFxyXG4gICAgICAgICAgICAwLCAwLCAxLFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcnJheVRvTWF0cml4KGFycjogbnVtYmVyW10sIHNpemU6IG51bWJlcik6IG51bWJlcltdW10ge1xyXG4gICAgICAgIGNvbnN0IHJlczogbnVtYmVyW11bXSA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSBzaXplKVxyXG4gICAgICAgICAgICByZXMucHVzaChhcnIuc2xpY2UoaSwgaSArIHNpemUpKTtcclxuICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHVzZSBtYXRoLmpzIGlmIG5lZWRlZCAtIGNvZGUgYnkgSmFuIFR1cm/FiFxyXG4gICAgbXVsdGlwbHlNYXRyaWNlcyhGOiBudW1iZXJbXSwgUzogbnVtYmVyW10pOiBudW1iZXJbXSB7XHJcbiAgICAgICAgaWYgKEYubGVuZ3RoID09PSBTLmxlbmd0aCAmJiBbMSwgNCwgOSwgMTZdLmluY2x1ZGVzKEYubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBwb3cgPSBNYXRoLnNxcnQoRi5sZW5ndGgpO1xyXG4gICAgICAgICAgICBjb25zdCBBID0gdGhpcy5hcnJheVRvTWF0cml4KEYsIHBvdyk7XHJcbiAgICAgICAgICAgIGNvbnN0IEIgPSB0aGlzLmFycmF5VG9NYXRyaXgoUywgcG93KTtcclxuICAgICAgICAgICAgcmV0dXJuIEEubWFwKChyb3csIGkpID0+XHJcbiAgICAgICAgICAgICAgICBCWzBdLm1hcCgoXywgaikgPT5cclxuICAgICAgICAgICAgICAgICAgICByb3cucmVkdWNlKChhY2MsIF8sIG4pID0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjYyArIEFbaV1bbl0gKiBCW25dW2pdLCAwXHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApLmZsYXQoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1hdGhVdGlscyBmcm9tICcuL01hdGhVdGlscyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvZ3JhbUZyb21TY3JpcHRzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHZzOiBzdHJpbmcsIGZzOiBzdHJpbmcpOiBXZWJHTFByb2dyYW0ge1xyXG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY3JlYXRlU2hhZGVyKGdsLCBnbC5WRVJURVhfU0hBREVSLCB2cyk7XHJcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNyZWF0ZVNoYWRlcihnbCwgZ2wuRlJBR01FTlRfU0hBREVSLCBmcyk7XHJcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlcik7XHJcbiAgICByZXR1cm4gcHJvZ3JhbTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHByZXBhcmVWaWV3KGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpOiB2b2lkIHtcclxuICAgIGdsLnZpZXdwb3J0KDAsIDAsIGdsLmNhbnZhcy53aWR0aCwgZ2wuY2FudmFzLmhlaWdodCk7XHJcbiAgICBnbC5jbGVhckNvbG9yKDAsIDAsIDAsIDApO1xyXG4gICAgZ2wuY2xlYXIoZ2wuQ09MT1JfQlVGRkVSX0JJVCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogbnVtYmVyW10ge1xyXG4gICAgY29uc3QgZHJhd1V0aWxzOiBNYXRoVXRpbHMgPSBuZXcgTWF0aFV0aWxzKCk7XHJcbiAgICBjb25zdCB0cmFuc2xhdGlvblggPSAwO1xyXG4gICAgY29uc3QgdHJhbnNsYXRpb25ZID0gMDtcclxuICAgIGNvbnN0IHJvdGF0aW9uSW5EZWdyZWVzID0gMDtcclxuICAgIGNvbnN0IHNjYWxlWCA9IDE7XHJcbiAgICBjb25zdCBzY2FsZVkgPSAxO1xyXG5cclxuICAgIGNvbnN0IGlkZW50aXR5TWF0cml4ID0gZHJhd1V0aWxzLmlkZW50aXR5TWF0cml4KCk7XHJcbiAgICBjb25zdCBwcm9qZWN0aW9uTWF0cml4ID0gZHJhd1V0aWxzLnByb2plY3Rpb25NYXRyaXgoZ2wuY2FudmFzLndpZHRoLCBnbC5jYW52YXMuaGVpZ2h0KTtcclxuICAgIGNvbnN0IHRyYW5zbGF0aW9uTWF0cml4ID0gZHJhd1V0aWxzLnRyYW5zbGF0aW9uTWF0cml4KHRyYW5zbGF0aW9uWCwgdHJhbnNsYXRpb25ZKTtcclxuICAgIGNvbnN0IHJvdGF0aW9uTWF0cml4ID0gZHJhd1V0aWxzLnJvdGF0aW9uTWF0cml4KHJvdGF0aW9uSW5EZWdyZWVzKTtcclxuICAgIGNvbnN0IHNjYWxlTWF0cml4ID0gZHJhd1V0aWxzLnNjYWxlTWF0cml4KHNjYWxlWCwgc2NhbGVZKTtcclxuXHJcbiAgICBsZXQgbWF0cml4ID0gZHJhd1V0aWxzLm11bHRpcGx5TWF0cmljZXMoaWRlbnRpdHlNYXRyaXgsIHByb2plY3Rpb25NYXRyaXgpO1xyXG4gICAgbWF0cml4ID0gZHJhd1V0aWxzLm11bHRpcGx5TWF0cmljZXMobWF0cml4LCB0cmFuc2xhdGlvbk1hdHJpeCk7XHJcbiAgICBtYXRyaXggPSBkcmF3VXRpbHMubXVsdGlwbHlNYXRyaWNlcyhtYXRyaXgsIHJvdGF0aW9uTWF0cml4KTtcclxuICAgIG1hdHJpeCA9IGRyYXdVdGlscy5tdWx0aXBseU1hdHJpY2VzKG1hdHJpeCwgc2NhbGVNYXRyaXgpO1xyXG4gICAgcmV0dXJuIG1hdHJpeDtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU2hhZGVyKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHR5cGU6IG51bWJlciwgc291cmNlOiBzdHJpbmcpOiBXZWJHTFNoYWRlciB7XHJcbiAgICBjb25zdCBzaGFkZXIgPSBnbC5jcmVhdGVTaGFkZXIodHlwZSk7XHJcbiAgICBnbC5zaGFkZXJTb3VyY2Uoc2hhZGVyLCBzb3VyY2UpO1xyXG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xyXG5cclxuICAgIGNvbnN0IHN1Y2Nlc3MgPSBnbC5nZXRTaGFkZXJQYXJhbWV0ZXIoc2hhZGVyLCBnbC5DT01QSUxFX1NUQVRVUyk7XHJcbiAgICBpZiAoc3VjY2VzcykgcmV0dXJuIHNoYWRlcjtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhnbC5nZXRTaGFkZXJJbmZvTG9nKHNoYWRlcikpO1xyXG4gICAgZ2wuZGVsZXRlU2hhZGVyKHNoYWRlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2w6IFdlYkdMUmVuZGVyaW5nQ29udGV4dCwgdmVydGV4U2hhZGVyOiBXZWJHTFNoYWRlciwgZnJhZ21lbnRTaGFkZXI6IFdlYkdMU2hhZGVyKTogV2ViR0xQcm9ncmFtIHwgbnVsbCB7XHJcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xyXG4gICAgZ2wuYXR0YWNoU2hhZGVyKHByb2dyYW0sIHZlcnRleFNoYWRlcik7XHJcbiAgICBnbC5hdHRhY2hTaGFkZXIocHJvZ3JhbSwgZnJhZ21lbnRTaGFkZXIpO1xyXG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XHJcblxyXG4gICAgY29uc3Qgc3VjY2VzcyA9IGdsLmdldFByb2dyYW1QYXJhbWV0ZXIocHJvZ3JhbSwgZ2wuTElOS19TVEFUVVMpO1xyXG4gICAgaWYgKHN1Y2Nlc3MpIHJldHVybiBwcm9ncmFtO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGdsLmdldFByb2dyYW1JbmZvTG9nKHByb2dyYW0pKTtcclxuICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBcImF0dHJpYnV0ZSB2ZWMyIGFfcG9zaXRpb247XFxyXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxyXFxudW5pZm9ybSBtYXQzIHVfbWF0cml4O1xcclxcbnZvaWQgbWFpbigpIHtcXHJcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KCh1X21hdHJpeCAqIHZlYzMoYV9wb3NpdGlvbiwgMSkpLnh5LCAwLCAxKTtcXHJcXG4gICAgdl9jb2xvciA9IGdsX1Bvc2l0aW9uO1xcclxcbn1cIiIsImV4cG9ydCBkZWZhdWx0IFwiYXR0cmlidXRlIHZlYzIgYV9wb3NpdGlvbjtcXHJcXG51bmlmb3JtIG1hdDMgdV9tYXRyaXg7XFxyXFxuXFxyXFxudm9pZCBtYWluKCkge1xcclxcbiAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoKHVfbWF0cml4ICogdmVjMyhhX3Bvc2l0aW9uLCAxKSkueHksIDAsIDEpO1xcclxcbn1cIiIsImV4cG9ydCBkZWZhdWx0IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxyXFxudW5pZm9ybSB2ZWM0IHVfY29sb3I7XFxyXFxuXFxyXFxudm9pZCBtYWluKCkge1xcclxcbiAgICBnbF9GcmFnQ29sb3IgPSB1X2NvbG9yO1xcclxcbn1cIiIsImltcG9ydCB7IGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cywgZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgsIHByZXBhcmVWaWV3IH0gZnJvbSBcIi4vUGxvdFV0aWxzXCI7XHJcbmltcG9ydCB2ZXJ0ZXhTaGFkZXJTdHJpbmcgZnJvbSAnLi4vc2hhZGVycy92ZXJ0ZXhTaGFkZXIuZ2xzbCc7XHJcbmltcG9ydCBmcmFnbWVudFNoYWRlclN0cmluZyBmcm9tICcuLi9zaGFkZXJzL2ZyYWdtZW50U2hhZGVyLmdsc2wnO1xyXG5pbXBvcnQgZXhhbXBsZVR3b1JlY3RhbmdsZXNWU2hhZGVyU3RyaW5nIGZyb20gJy4uL3NoYWRlcnMvZXhhbXBsZVR3b1JlY3RhbmdsZXMvdmVydGV4U2hhZGVyLmdsc2wnO1xyXG5pbXBvcnQgZXhhbXBsZVR3b1JlY3RhbmdsZXNGU2hhZGVyU3RyaW5nIGZyb20gJy4uL3NoYWRlcnMvZXhhbXBsZVR3b1JlY3RhbmdsZXMvZnJhZ21lbnRTaGFkZXIuZ2xzbCc7XHJcbmltcG9ydCBleGFtcGxlTGluZXNWIGZyb20gJy4uL3NoYWRlcnMvZXhhbXBsZUxpbmVzL3ZlcnRleFNoYWRlci5nbHNsJztcclxuaW1wb3J0IGV4YW1wbGVMaW5lc0YgZnJvbSAnLi4vc2hhZGVycy9leGFtcGxlTGluZXMvZnJhZ21lbnRTaGFkZXIuZ2xzbCc7XHJcbmltcG9ydCB7IFRpY2tJbmZvIH0gZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhdyB7XHJcbiAgICAvLyBBbGdvcml0aG0gYnkgJ01hcmsgUmFuc29tJy4gUG9ydGVkIHRvIEpTIGFuZCBtb2RpZmllZCBieSBtZS5cclxuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzM2MTY4MS9cclxuICAgIGdldFRpY2tJbmZvKGxhcmdlc3Q6IG51bWJlciwgbW9zdFRpY2tzOiBudW1iZXIpOiBUaWNrSW5mbyB7XHJcbiAgICAgICAgY29uc3QgbWluaW11bSA9IGxhcmdlc3QgLyBtb3N0VGlja3M7XHJcbiAgICAgICAgY29uc3QgbWFnbml0dWRlID0gTWF0aC5wb3coMTAsIE1hdGguZmxvb3IoTWF0aC5sb2cxMChtaW5pbXVtKSkpO1xyXG4gICAgICAgIGNvbnN0IHJlc2lkdWFsID0gbWluaW11bSAvIG1hZ25pdHVkZTtcclxuICAgICAgICBjb25zdCB0YWJsZSA9IFsxLCAxLjUsIDIsIDMsIDUsIDcsIDEwXTtcclxuICAgICAgICBjb25zdCB0aWNrID0gcmVzaWR1YWwgPCAxMCA/IHRhYmxlLmZpbmQoKGUpID0+IChlID4gcmVzaWR1YWwpKSA6IDEwO1xyXG4gICAgICAgIGNvbnN0IHRpY2tIZWlnaHQgPSB0aWNrICogbWFnbml0dWRlO1xyXG4gICAgICAgIGNvbnN0IHRpY2tDb3VudCA9IE1hdGguY2VpbChsYXJnZXN0IC8gdGlja0hlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIHsgdGlja0hlaWdodCwgdGlja0NvdW50IH07XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0xpbmVzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNlcmllczogbnVtYmVyW10pOiBudW1iZXIge1xyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtRnJvbVNjcmlwdHMoZ2wsIGV4YW1wbGVMaW5lc1YsIGV4YW1wbGVMaW5lc0YpO1xyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uQUxvYyA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgY29sb3JVTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2NvbG9yJyk7XHJcbiAgICAgICAgY29uc3QgbWF0cml4VUxvYyA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9tYXRyaXgnKTtcclxuICAgICAgICBjb25zdCBtYXRyaXggPSBnZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeChnbCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1heCA9IE1hdGgubWF4KC4uLnNlcmllcy5tYXAoTWF0aC5hYnMpKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGlja0luZm8gPSB0aGlzLmdldFRpY2tJbmZvKG1heCwgOCk7XHJcbiAgICAgICAgY29uc3QgdyA9IGdsLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gZ2wuY2FudmFzLmhlaWdodDtcclxuICAgICAgICBjb25zdCBwYWRkaW5nID0gTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDEwMCk7XHJcbiAgICAgICAgY29uc3QgdW5kZXJMaW5lQXJlYUhlaWdodCA9IChoIC0gMiAqIHBhZGRpbmcpIC8gNztcclxuICAgICAgICBjb25zdCBsaW5lc1BvaW50cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gcGFkZGluZztcclxuICAgICAgICBjb25zdCBlbmQgPSB3IC0gcGFkZGluZztcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSB0aWNrSW5mby50aWNrQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lSCA9IGkgKiB1bmRlckxpbmVBcmVhSGVpZ2h0O1xyXG4gICAgICAgICAgICBsaW5lc1BvaW50cy5wdXNoKHN0YXJ0LCBsaW5lSCwgZW5kLCBsaW5lSCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGxpbmVzUG9pbnRzKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGF0YUJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhQnVmZmVyKTtcclxuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgbmV3IEludDE2QXJyYXkobGluZXNQb2ludHMpLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgICAgIHByZXBhcmVWaWV3KGdsKTtcclxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVMb2MsIDAuNywgMC43LCAwLjcsIDEpO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYobWF0cml4VUxvYywgZmFsc2UsIG1hdHJpeCk7XHJcblxyXG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BTG9jKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZGF0YUJ1ZmZlcik7XHJcbiAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihwb3NpdGlvbkFMb2MsIDIsIGdsLlNIT1JULCBmYWxzZSwgMCwgMCk7XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5MSU5FUywgMCwgbGluZXNQb2ludHMubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgIHJldHVybiB0aWNrSW5mby50aWNrQ291bnQgKiB0aWNrSW5mby50aWNrSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdCYXJzKGdsOiBXZWJHTFJlbmRlcmluZ0NvbnRleHQsIHNlcmllczogbnVtYmVyW10sIG1heDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgZXhhbXBsZUxpbmVzViwgZXhhbXBsZUxpbmVzRik7XHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25BTG9jID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcclxuICAgICAgICBjb25zdCBjb2xvclVMb2MgPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY29sb3InKTtcclxuICAgICAgICBjb25zdCBtYXRyaXhVTG9jID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X21hdHJpeCcpO1xyXG4gICAgICAgIGNvbnN0IG1hdHJpeCA9IGdldFRyYW5zZm9ybWF0aW9uTWF0cml4KGdsKTtcclxuXHJcbiAgICAgICAgY29uc3QgdyA9IGdsLmNhbnZhcy53aWR0aDtcclxuICAgICAgICBjb25zdCBoID0gZ2wuY2FudmFzLmhlaWdodDtcclxuICAgICAgICBjb25zdCBwYWRkaW5nID0gTWF0aC5mbG9vcihNYXRoLm1pbih3LCBoKSAvIDEwMCk7IC8vbnAgNiAtIHd0ZWR5IEggPSA1ODguXHJcbiAgICAgICAgY29uc3QgSCA9IGggLSAyICogcGFkZGluZztcclxuICAgICAgICBjb25zdCBXID0gdyAtIDIgKiBwYWRkaW5nO1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGllciA9IEggLyBtYXg7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbFBvaW50cyA9IFtdO1xyXG4gICAgICAgIGNvbnN0IENPTF9OVU1TID0gc2VyaWVzLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBjb2xBcmVhV2lkdGggPSBXIC8gQ09MX05VTVM7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgQ09MX05VTVM7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb2xIZWlnaHQgPSBwYWRkaW5nICsgc2VyaWVzW2ldICogbXVsdGlwaWVyO1xyXG4gICAgICAgICAgICBjb25zdCBwb2ludExlZnRYID0gcGFkZGluZyArIChjb2xBcmVhV2lkdGggKiBpKSArIChjb2xBcmVhV2lkdGggLyA1KTtcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRMZWZ0WSA9IHBhZGRpbmcgKyAoY29sQXJlYVdpZHRoICogKGkgKyAxKSkgLSAoY29sQXJlYVdpZHRoIC8gNSk7XHJcbiAgICAgICAgICAgIGNvbFBvaW50cy5wdXNoKHBvaW50TGVmdFgsIHBhZGRpbmcsIHBvaW50TGVmdFgsIGNvbEhlaWdodCwgcG9pbnRMZWZ0WSwgY29sSGVpZ2h0KTtcclxuICAgICAgICAgICAgY29sUG9pbnRzLnB1c2gocG9pbnRMZWZ0WCwgcGFkZGluZywgcG9pbnRMZWZ0WSwgcGFkZGluZywgcG9pbnRMZWZ0WSwgY29sSGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGFCdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZGF0YUJ1ZmZlcik7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoY29sUG9pbnRzKSwgZ2wuU1RBVElDX0RSQVcpO1xyXG5cclxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYobWF0cml4VUxvYywgZmFsc2UsIG1hdHJpeCk7XHJcbiAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkocG9zaXRpb25BTG9jKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZGF0YUJ1ZmZlcik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBDT0xfTlVNUzsgaSsrKSB7XHJcbiAgICAgICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVMb2MsIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIE1hdGgucmFuZG9tKCksIDEpO1xyXG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQUxvYywgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCBpICogMTIgKiBGbG9hdDMyQXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xyXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgMTIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVjdChnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7XHJcbiAgICAgICAgLy8gSU5JVFxyXG4gICAgICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtRnJvbVNjcmlwdHMoZ2wsIGV4YW1wbGVUd29SZWN0YW5nbGVzVlNoYWRlclN0cmluZywgZXhhbXBsZVR3b1JlY3RhbmdsZXNGU2hhZGVyU3RyaW5nKTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgY29sb3JVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY29sb3InKTtcclxuICAgICAgICBjb25zdCBtYXRyaXhVbmlmb3JtTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfbWF0cml4Jyk7XHJcbiAgICAgICAgY29uc3QgbWF0cml4ID0gZ2V0VHJhbnNmb3JtYXRpb25NYXRyaXgoZ2wpO1xyXG5cclxuICAgICAgICBjb25zdCBkYXRhQnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGRhdGFCdWZmZXIpO1xyXG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgSW50MTZBcnJheShbMCwgMCwgMCwgNTAsIDUwLCA1MCwgMCwgMCwgNTAsIDAsIDUwLCA1MF0pLCBnbC5TVEFUSUNfRFJBVyk7XHJcblxyXG4gICAgICAgIC8vIFJFTkRFUlxyXG4gICAgICAgIHByZXBhcmVWaWV3KGdsKTtcclxuICAgICAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xyXG4gICAgICAgIGdsLnVuaWZvcm1NYXRyaXgzZnYobWF0cml4VW5pZm9ybUxvY2F0aW9uLCBmYWxzZSwgbWF0cml4KTtcclxuXHJcbiAgICAgICAgLy8gUkVOREVSIC0+IERSQVcgMVxyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xyXG4gICAgICAgIGdsLnVuaWZvcm00Zihjb2xvclVuaWZvcm1Mb2NhdGlvbiwgMC41LCAwLjUsIDAuNSwgMSk7XHJcbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIGRhdGFCdWZmZXIpO1xyXG4gICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuU0hPUlQsIGZhbHNlLCAwLCAwKTtcclxuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgMyk7XHJcblxyXG4gICAgICAgIC8vIFJFRE5FUiAtPiBEUkFXIDJcclxuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcclxuICAgICAgICBnbC51bmlmb3JtNGYoY29sb3JVbmlmb3JtTG9jYXRpb24sIDAuMSwgMC41LCAwLjksIDEpO1xyXG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBkYXRhQnVmZmVyKTtcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sIDIsIGdsLlNIT1JULCBmYWxzZSwgMCwgNiAqIEludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQpO1xyXG4gICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVTLCAwLCAzKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RihnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IGNyZWF0ZVByb2dyYW1Gcm9tU2NyaXB0cyhnbCwgdmVydGV4U2hhZGVyU3RyaW5nLCBmcmFnbWVudFNoYWRlclN0cmluZyk7XHJcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKHByb2dyYW0sICdhX3Bvc2l0aW9uJyk7XHJcbiAgICAgICAgY29uc3QgbWF0cml4VW5pZm9ybUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X21hdHJpeCcpXHJcblxyXG4gICAgICAgIHByZXBhcmVWaWV3KGdsKTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0R2VvbWV0cnkoZ2wpO1xyXG4gICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBzaXplID0gMjsgICAgICAgICAgICAgLy8gMiBjb21wb25lbnRzIHBlciBpdGVyYXRpb25cclxuICAgICAgICBjb25zdCB0eXBlID0gZ2wuRkxPQVQ7ICAgICAgLy8gdHlwZSBvZiBjb21wb25lbnQgKDMyYml0IGZsb2F0KVxyXG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZSA9IGZhbHNlOyAgICAvLyBkb24ndCBub3JtYWxpemUgZGF0YVxyXG4gICAgICAgIGNvbnN0IHN0cmlkZSA9IDAgICAgICAgICAgICAvLyBtb3ZlIHNpemUgKiBzaXplb2YodHlwZSkgYml0cyB0byBnZXQgbmV4dCBwb3NpdGlvblxyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IDAgICAgICAgICAgICAvLyBzdGFydHMgYXQgdGhhdCBiaXRcclxuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKHBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24sIHNpemUsIHR5cGUsIG5vcm1hbGl6ZSwgc3RyaWRlLCBvZmZzZXQpO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRyaXggPSBnZXRUcmFuc2Zvcm1hdGlvbk1hdHJpeChnbCk7XHJcbiAgICAgICAgZ2wudW5pZm9ybU1hdHJpeDNmdihtYXRyaXhVbmlmb3JtTG9jYXRpb24sIGZhbHNlLCBtYXRyaXgpO1xyXG5cclxuICAgICAgICBjb25zdCBwcmltaXRpdmVUeXBlID0gZ2wuVFJJQU5HTEVTO1xyXG4gICAgICAgIGNvbnN0IGNvdW50ID0gMTg7XHJcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhwcmltaXRpdmVUeXBlLCBvZmZzZXQsIGNvdW50KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgcHJpdmF0ZSBzZXRHZW9tZXRyeShnbDogV2ViR0xSZW5kZXJpbmdDb250ZXh0KTogdm9pZCB7XHJcbiAgICAgICAgZ2wuYnVmZmVyRGF0YShcclxuICAgICAgICAgICAgZ2wuQVJSQVlfQlVGRkVSLFxyXG4gICAgICAgICAgICBuZXcgRmxvYXQzMkFycmF5KFtcclxuICAgICAgICAgICAgICAgIC8vIGxlZnQgY29sdW1uXHJcbiAgICAgICAgICAgICAgICAwLCAwLFxyXG4gICAgICAgICAgICAgICAgMzAsIDAsXHJcbiAgICAgICAgICAgICAgICAwLCAxNTAsXHJcbiAgICAgICAgICAgICAgICAwLCAxNTAsXHJcbiAgICAgICAgICAgICAgICAzMCwgMCxcclxuICAgICAgICAgICAgICAgIDMwLCAxNTAsXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdG9wIHJ1bmdcclxuICAgICAgICAgICAgICAgIDMwLCAwLFxyXG4gICAgICAgICAgICAgICAgMTAwLCAwLFxyXG4gICAgICAgICAgICAgICAgMzAsIDMwLFxyXG4gICAgICAgICAgICAgICAgMzAsIDMwLFxyXG4gICAgICAgICAgICAgICAgMTAwLCAwLFxyXG4gICAgICAgICAgICAgICAgMTAwLCAzMCxcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtaWRkbGUgcnVuZ1xyXG4gICAgICAgICAgICAgICAgMzAsIDYwLFxyXG4gICAgICAgICAgICAgICAgNjcsIDYwLFxyXG4gICAgICAgICAgICAgICAgMzAsIDkwLFxyXG4gICAgICAgICAgICAgICAgMzAsIDkwLFxyXG4gICAgICAgICAgICAgICAgNjcsIDYwLFxyXG4gICAgICAgICAgICAgICAgNjcsIDkwLFxyXG4gICAgICAgICAgICBdKSxcclxuICAgICAgICAgICAgZ2wuU1RBVElDX0RSQVcpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgXCJhdHRyaWJ1dGUgdmVjMiBhX3Bvc2l0aW9uO1xcclxcbnVuaWZvcm0gdmVjNCB1X2NvbG9yO1xcclxcbnVuaWZvcm0gbWF0MyB1X21hdHJpeDtcXHJcXG52YXJ5aW5nIHZlYzQgdl9jb2xvcjtcXHJcXG5cXHJcXG52b2lkIG1haW4oKSB7XFxyXFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNCgodV9tYXRyaXggKiB2ZWMzKGFfcG9zaXRpb24sIDEpKS54eSwgMCwgMSk7XFxyXFxuICAgIHZfY29sb3IgPSB1X2NvbG9yO1xcclxcbn1cIiIsImV4cG9ydCBkZWZhdWx0IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxyXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxyXFxuXFxyXFxudm9pZCBtYWluKCkge1xcclxcbiAgICBnbF9GcmFnQ29sb3IgPSB2X2NvbG9yO1xcclxcbn1cIiIsImV4cG9ydCBkZWZhdWx0IFwicHJlY2lzaW9uIG1lZGl1bXAgZmxvYXQ7XFxyXFxudmFyeWluZyB2ZWM0IHZfY29sb3I7XFxyXFxudm9pZCBtYWluKCkge1xcclxcbiAgICBnbF9GcmFnQ29sb3IgPSB2X2NvbG9yO1xcclxcbn1cIiIsImltcG9ydCB7IENvbnRleHRTb3VyY2UsIFJlc2l6ZU9ic2VydmVyRW50cnlVcGRhdGVkIH0gZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENoYXJ0IHtcclxuXHJcbiAgICBjb250ZXh0OiBXZWJHTFJlbmRlcmluZ0NvbnRleHQ7XHJcblxyXG4gICAgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyO1xyXG5cclxuICAgIC8vIGV2ZXJ5IHRpbWUgc2V0IHZpZXdwb3J0IHRvIHRob3NlIHZhbHVlcy5cclxuICAgIGRpc3BsYXlXaWR0aDogbnVtYmVyO1xyXG4gICAgZGlzcGxheUhlaWdodDogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZTogQ29udGV4dFNvdXJjZSkge1xyXG4gICAgICAgIGxldCBhbmFseXplZEVsZW1lbnQgPSBzb3VyY2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBhbmFseXplZEVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGFuYWx5emVkRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFuYWx5emVkRWxlbWVudC5yZXBsYWNlKCcvXiMvJywgJycpKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFuYWx5emVkRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxDYW52YXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dCA9IGFuYWx5emVkRWxlbWVudC5nZXRDb250ZXh0KCd3ZWJnbCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhbmFseXplZEVsZW1lbnQgaW5zdGFuY2VvZiBXZWJHTFJlbmRlcmluZ0NvbnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0ID0gYW5hbHl6ZWRFbGVtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHRocm93IEVycm9yKCdBcmd1bWVudCBtdXN0IGJlIHZhbGlkIElELCBIVE1MQ2FudmFzRWxlbWVudCBvciBXZWJHTFJlbmRlcmluZ0NvbnRleHQnKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVDYW52YXMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3Qgc2V0IFgodmFsdWU6IHN0cmluZ1tdIHwgbnVtYmVyW10pO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHNldCBZKHZhbHVlOiBudW1iZXJbXSB8IG51bWJlcltdW10pO1xyXG4gICAgLy8gcHVibGljIGFic3RyYWN0IHNldCBjb25maWd1cmF0aW9uKGNvbmZpZzogdW5rbm93bik7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZHJhdygpOiB2b2lkO1xyXG5cclxuICAgIC8qXHJcbiAgICAgICAgQ29udGVudCB1bmRlciB0aGlzIGxpbmUgd2lsbCBwcm9iYWJseSBiZSBkZWxldGVkIVxyXG4gICAgKi9cclxuICAgIHByaXZhdGUgaW5pdGlhbGl6ZUNhbnZhcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKChlbnRyaWVzOiBSZXNpemVPYnNlcnZlckVudHJ5VXBkYXRlZFtdKSA9PiB0aGlzLm9uUmVzaXplQ2FsbGJhY2soZW50cmllcykpO1xyXG4gICAgICAgIGNvbnN0IHsgY2FudmFzIH0gPSB0aGlzLmNvbnRleHQ7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGNhbnZhcywgeyBib3g6ICdkZXZpY2UtcGl4ZWwtY29udGVudC1ib3gnIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XHJcbiAgICAgICAgICAgIC8vIGRldmljZS1waXhlbC1jb250ZW50LWJveCBpcyBub3Qgc3VwcG9ydGVkIHNvIGZhbGxiYWNrIHRvIHRoaXNcclxuICAgICAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKGNhbnZhcywgeyBib3g6ICdjb250ZW50LWJveCcgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25SZXNpemVDYWxsYmFjayhlbnRyaWVzOiBSZXNpemVPYnNlcnZlckVudHJ5VXBkYXRlZFtdKTogdm9pZCB7XHJcbiAgICAgICAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkcHIgPSBlbnRyeS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplID8gMSA6IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xyXG4gICAgICAgICAgICBjb25zdCB7IGlubGluZVNpemUsIGJsb2NrU2l6ZSB9OiBSZXNpemVPYnNlcnZlclNpemUgPSB0aGlzLmdldFdpZHRoQW5kSGVpZ2h0KGVudHJ5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFJlc2l6ZSB0byAke2lubGluZVNpemV9IHggJHtibG9ja1NpemV9LCBkcHIgJHtkcHJ9YCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5zZXROZXdDYW52YXNTaXplKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgZHByKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldFdpZHRoQW5kSGVpZ2h0KGVudHJ5OiBSZXNpemVPYnNlcnZlckVudHJ5VXBkYXRlZCk6IFJlc2l6ZU9ic2VydmVyU2l6ZSB7XHJcbiAgICAgICAgaWYgKGVudHJ5LmRldmljZVBpeGVsQ29udGVudEJveFNpemUpIHJldHVybiBlbnRyeS5kZXZpY2VQaXhlbENvbnRlbnRCb3hTaXplWzBdO1xyXG4gICAgICAgIGlmIChlbnRyeS5jb250ZW50Qm94U2l6ZSkgcmV0dXJuIGVudHJ5LmNvbnRlbnRCb3hTaXplWzBdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlubGluZVNpemU6IGVudHJ5LmNvbnRlbnRSZWN0LndpZHRoLFxyXG4gICAgICAgICAgICBibG9ja1NpemU6IGVudHJ5LmNvbnRlbnRSZWN0LmhlaWdodFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXROZXdDYW52YXNTaXplKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBkcHI6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlXaWR0aCA9IE1hdGgucm91bmQod2lkdGggKiBkcHIpO1xyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlIZWlnaHQgPSBNYXRoLnJvdW5kKGhlaWdodCAqIGRwcik7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5V2lkdGggPSBkaXNwbGF5V2lkdGg7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5SGVpZ2h0ID0gZGlzcGxheUhlaWdodDtcclxuICAgIH1cclxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIHtcclxuICAgIC8qKlxyXG4gICAgICogSWYgbmVlZGVkLCBzbGljZSAnYXJyYXknIHRvICdsZW4nIGl0ZW1zIG9yIGZpbGwgdG8gJ2xlbicgaXRlbXMgdXNpbmcgJ2ZpbGxXaXRoJy5cclxuICAgICAqIEBwYXJhbSBhcnJheSAtIGFycmF5IHRvIHNsaWNlIG9yIGZpbGwuXHJcbiAgICAgKiBAcGFyYW0gbGVuIC0gdGhlIHJlc3VsdGluZyBsZW5ndGggb2YgYXJyYXkuXHJcbiAgICAgKiBAcGFyYW0gZmlsbFdpdGggLSBudW1iZXIgd2l0aCB3aGljaCBhcnJheSBzaG91bGQgYmUgZmlsbGVkLlxyXG4gICAgICogQHJldHVybnMgc2xpY2VkIG9yIGZpbGxlZCBhcnJheS5cclxuICAgICovXHJcbiAgICBwdWJsaWMgc3RhdGljIHNsaWNlT3JGaWxsKGFycmF5OiBudW1iZXJbXSwgbGVuOiBudW1iZXIsIGZpbGxXaXRoPzogbnVtYmVyKTogbnVtYmVyW10ge1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPT09IGxlbikgcmV0dXJuIGFycmF5O1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPiBsZW4pIHJldHVybiBhcnJheS5zbGljZSgwLCBsZW4pO1xyXG4gICAgICAgIGlmIChhcnJheS5sZW5ndGggPCBsZW4pXHJcbiAgICAgICAgICAgIHdoaWxlIChhcnJheS5sZW5ndGggIT09IGxlbilcclxuICAgICAgICAgICAgICAgIGFycmF5LnB1c2goZmlsbFdpdGggPz8gMCk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWVyZ2UgcHJvcGVydGllcyBmcm9tICduZXdPcHRpb25zJyB0byAnYWN0dWFsT3B0aW9ucycgKHJpZ2h0LWpvaW4gbGlrZSkuXHJcbiAgICAgKiBAcGFyYW0gbmV3T3B0aW9ucyAtIHNvbWUgb3B0aW9uIHByb3BlcnRpZXMgZm9yIHR5cGUgVC5cclxuICAgICAqIEBwYXJhbSBhY3R1YWxPcHRpb25zIC0gYWxsIG9wdGlvbiBwcm9wZXJ0aWVzIGZvciB0eXBlIFQuXHJcbiAgICAqL1xyXG4gICAgcHVibGljIHN0YXRpYyBtZXJnZVJpZ2h0PFQ+KG5ld09wdGlvbnM6IFBhcnRpYWw8VD4sIGFjdHVhbE9wdGlvbnM6IFQpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoYWN0dWFsT3B0aW9ucyk7XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMobmV3T3B0aW9ucykuZm9yRWFjaChwYWlyID0+IHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcclxuICAgICAgICAgICAgaWYgKGtleXMuaW5jbHVkZXMoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYWlyWzFdO1xyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHMtY29tbWVudCBcclxuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICAgICAgICAgIGFjdHVhbE9wdGlvbnNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBNdWx0aVNlcmllRGF0YSwgQ2hhcnRPcHRpb25zLCBDb250ZXh0U291cmNlLCBTZXJpZU9wdGlvbnMgfSBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcbmltcG9ydCBEcmF3IGZyb20gXCIuLi9wbG90LWxvZ2ljL0RyYXdcIjtcclxuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi9DaGFydFwiO1xyXG5pbXBvcnQgQ2hhcnRVdGlscyBmcm9tIFwiLi9DaGFydFV0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFyQ2hhcnQgZXh0ZW5kcyBDaGFydCB7XHJcbiAgICBvcHRpb25zRm9yQ2hhcnQ6IENoYXJ0T3B0aW9ucztcclxuICAgIHNlcmllc0RhdGE6IE11bHRpU2VyaWVEYXRhW107XHJcbiAgICBkYXRhTGFiZWxzOiBzdHJpbmdbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2U6IENvbnRleHRTb3VyY2UpIHtcclxuICAgICAgICBzdXBlcihzb3VyY2UpO1xyXG4gICAgICAgIHRoaXMub3B0aW9uc0ZvckNoYXJ0ID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogJ1VudGl0bGVkJyxcclxuICAgICAgICAgICAgc2hvd1RpdGxlOiB0cnVlLFxyXG4gICAgICAgICAgICBzaG93TGVnZW5kOiBmYWxzZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuc2VyaWVzRGF0YSA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgWChsYWJlbHM6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgdGhpcy5kYXRhTGFiZWxzID0gbGFiZWxzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgWShzZXJpZXM6IG51bWJlcltdW10pIHtcclxuICAgICAgICBjb25zdCB7IGxlbmd0aCB9ID0gdGhpcy5kYXRhTGFiZWxzO1xyXG4gICAgICAgIGlmICghbGVuZ3RoKVxyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVmFsdWVzIG9uIFwiWFwiIGF4aXMgbXVzdCBiZSBzcGVjaWZpZWQgYmVmb3JlIHNldHRpbmcgXCJZXCIgdmFsdWVzLicpO1xyXG4gICAgICAgIGNvbnN0IG1hcHBlZFNlcmllcyA9IHNlcmllcy5tYXAoc2VyaWUgPT4gQ2hhcnRVdGlscy5zbGljZU9yRmlsbChzZXJpZSwgbGVuZ3RoKSk7XHJcbiAgICAgICAgdGhpcy5zZXJpZXNEYXRhID0gbWFwcGVkU2VyaWVzLm1hcCgoc2VyaWUsIGluZGV4KSA9PiB0aGlzLmdldERlZmF1bHRTZXJpZU9iamVjdChzZXJpZSwgaW5kZXgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERlZmF1bHRTZXJpZU9iamVjdChzZXJpZTogbnVtYmVyW10sIGluZGV4OiBudW1iZXIpOiBNdWx0aVNlcmllRGF0YSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdmFsdWVzOiBzZXJpZSxcclxuICAgICAgICAgICAgbmFtZTogYHNlcmllJHtpbmRleH1gLFxyXG4gICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHI6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NSksXHJcbiAgICAgICAgICAgICAgICAgICAgZzogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KSxcclxuICAgICAgICAgICAgICAgICAgICBiOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGE6IDI1NVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNob3dMYWJlbHM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgc2hvd09uTGVnZW5kOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGVkZ2VUaGlja25lc3M6IDAsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDaGFydE9wdGlvbnMob3B0aW9uczogUGFydGlhbDxDaGFydE9wdGlvbnM+KTogdm9pZCB7XHJcbiAgICAgICAgQ2hhcnRVdGlscy5tZXJnZVJpZ2h0KHRoaXMub3B0aW9uc0ZvckNoYXJ0LCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0U2VyaWVPcHRpb25zKG5ld09wdGlvbnM6IFBhcnRpYWw8U2VyaWVPcHRpb25zPiwgd2hpY2hTZXJpZXM/OiBzdHJpbmdbXSk6IHZvaWQge1xyXG4gICAgICAgIGlmICh3aGljaFNlcmllcykgd2hpY2hTZXJpZXMuZm9yRWFjaCgoc2VyaWVOYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbFNlcmllID1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzRGF0YS5maW5kKChleGlzdGluZ1NlcmllKSA9PiBleGlzdGluZ1NlcmllLm5hbWUgPT0gc2VyaWVOYW1lKTtcclxuICAgICAgICAgICAgaWYgKGFjdHVhbFNlcmllKSB7XHJcbiAgICAgICAgICAgICAgICBDaGFydFV0aWxzLm1lcmdlUmlnaHQobmV3T3B0aW9ucywgYWN0dWFsU2VyaWUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFNlcmllIHdpdGggbmFtZSAke3NlcmllTmFtZX0gbm90IGZvdW5kLmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWxzZSB0aGlzLnNlcmllc0RhdGEuZm9yRWFjaCgoc2VyaWUpID0+IENoYXJ0VXRpbHMubWVyZ2VSaWdodChuZXdPcHRpb25zLCBzZXJpZS5vcHRpb25zKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgZHJhdyA9IG5ldyBEcmF3KCk7XHJcbiAgICAgICAgY29uc3QgYyA9IGRyYXcuZHJhd0xpbmVzKHRoaXMuY29udGV4dCwgdGhpcy5zZXJpZXNEYXRhWzBdLnZhbHVlcyk7XHJcbiAgICAgICAgZHJhdy5kcmF3QmFycyh0aGlzLmNvbnRleHQsIHRoaXMuc2VyaWVzRGF0YVswXS52YWx1ZXMsIGMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2luZ2xlU2VyaWVEYXRhLCBDaGFydE9wdGlvbnMsIENvbnRleHRTb3VyY2UsIFNlcmllT3B0aW9ucyB9IGZyb20gXCIuLi9tb2RlbHNcIjtcclxuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi9DaGFydFwiO1xyXG5pbXBvcnQgQ2hhcnRVdGlscyBmcm9tIFwiLi9DaGFydFV0aWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGllQ2hhcnQgZXh0ZW5kcyBDaGFydCB7XHJcbiAgICBvcHRpb25zRm9yQ2hhcnQ6IENoYXJ0T3B0aW9ucztcclxuICAgIHNlcmllc0RhdGE6IFNpbmdsZVNlcmllRGF0YVtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNvdXJjZTogQ29udGV4dFNvdXJjZSkge1xyXG4gICAgICAgIHN1cGVyKHNvdXJjZSk7XHJcbiAgICAgICAgdGhpcy5vcHRpb25zRm9yQ2hhcnQgPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiAnVW50aXRsZWQnLFxyXG4gICAgICAgICAgICBzaG93VGl0bGU6IHRydWUsXHJcbiAgICAgICAgICAgIHNob3dMZWdlbmQ6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXJpZXNEYXRhID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBYKGxhYmVsczogc3RyaW5nW10pIHtcclxuICAgICAgICB0aGlzLnNlcmllc0RhdGEgPVxyXG4gICAgICAgICAgICBsYWJlbHMubWFwKChsYWJlbCkgPT4gdGhpcy5nZXREZWZhdWx0U2VyaWVPYmplY3QobGFiZWwpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IFkodmFsdWVzOiBudW1iZXJbXSkge1xyXG4gICAgICAgIGNvbnN0IHsgbGVuZ3RoIH0gPSB0aGlzLnNlcmllc0RhdGE7XHJcbiAgICAgICAgaWYgKCFsZW5ndGgpXHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdWYWx1ZXMgb24gXCJYXCIgYXhpcyBtdXN0IGJlIHNwZWNpZmllZCBiZWZvcmUgc2V0dGluZyBcIllcIiB2YWx1ZXMuJyk7XHJcbiAgICAgICAgY29uc3QgbWFwcGVkVmFsdWVzID0gQ2hhcnRVdGlscy5zbGljZU9yRmlsbCh2YWx1ZXMsIGxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5zZXJpZXNEYXRhLm1hcCgob3B0aW9uLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSBtYXBwZWRWYWx1ZXNbaW5kZXhdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RGVmYXVsdFNlcmllT2JqZWN0KGxhYmVsOiBzdHJpbmcpOiBTaW5nbGVTZXJpZURhdGEge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiAwLFxyXG4gICAgICAgICAgICBuYW1lOiBsYWJlbCxcclxuICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgY29sb3I6IHtcclxuICAgICAgICAgICAgICAgICAgICByOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNTUpLFxyXG4gICAgICAgICAgICAgICAgICAgIGc6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1NSksXHJcbiAgICAgICAgICAgICAgICAgICAgYjogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU1KSxcclxuICAgICAgICAgICAgICAgICAgICBhOiAyNTVcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzaG93TGFiZWxzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHNob3dPbkxlZ2VuZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBlZGdlVGhpY2tuZXNzOiAwLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Q2hhcnRPcHRpb25zKG9wdGlvbnM6IFBhcnRpYWw8Q2hhcnRPcHRpb25zPik6IHZvaWQge1xyXG4gICAgICAgIENoYXJ0VXRpbHMubWVyZ2VSaWdodCh0aGlzLm9wdGlvbnNGb3JDaGFydCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFNlcmllT3B0aW9ucyhuZXdPcHRpb25zOiBQYXJ0aWFsPFNlcmllT3B0aW9ucz4sIHdoaWNoU2VyaWVzPzogc3RyaW5nW10pOiB2b2lkIHtcclxuICAgICAgICBpZiAod2hpY2hTZXJpZXMpIHdoaWNoU2VyaWVzLmZvckVhY2goKHNlcmllTmFtZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhY3R1YWxTZXJpZSA9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcmllc0RhdGEuZmluZCgoZXhpc3RpbmdTZXJpZSkgPT4gZXhpc3RpbmdTZXJpZS5uYW1lID09IHNlcmllTmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChhY3R1YWxTZXJpZSkge1xyXG4gICAgICAgICAgICAgICAgQ2hhcnRVdGlscy5tZXJnZVJpZ2h0KG5ld09wdGlvbnMsIGFjdHVhbFNlcmllLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBTZXJpZSB3aXRoIG5hbWUgJHtzZXJpZU5hbWV9IG5vdCBmb3VuZC5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGVsc2UgdGhpcy5zZXJpZXNEYXRhLmZvckVhY2goKHNlcmllKSA9PiBDaGFydFV0aWxzLm1lcmdlUmlnaHQobmV3T3B0aW9ucywgc2VyaWUub3B0aW9ucykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3KCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IEVycm9yKFwiTm90IGltcGxlbWVudGVkIHlldFwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRleHRTb3VyY2UgfSBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcbmltcG9ydCB7IEJhckNoYXJ0IH0gZnJvbSBcIi4vQmFyQ2hhcnRcIjtcclxuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi9DaGFydFwiO1xyXG5pbXBvcnQgeyBQaWVDaGFydCB9IGZyb20gXCIuL1BpZUNoYXJ0XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXJ2ZUNoYXJ0KHR5cGU6IHN0cmluZywgc291cmNlOiBDb250ZXh0U291cmNlKTogQ2hhcnQge1xyXG4gICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkudHJpbSgpKSB7XHJcbiAgICAgICAgY2FzZSBcInBpZVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFBpZUNoYXJ0KHNvdXJjZSk7XHJcbiAgICAgICAgY2FzZSBcImJhclwiOlxyXG4gICAgICAgICAgICByZXR1cm4gbmV3IEJhckNoYXJ0KHNvdXJjZSk7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke3R5cGV9IGNoYXJ0IGlzIG5vdCBkZWZpbmVkLmApO1xyXG4gICAgfVxyXG59Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiTWF0aFV0aWxzIiwiaWRlbnRpdHlNYXRyaXgiLCJwcm9qZWN0aW9uTWF0cml4Iiwid2lkdGgiLCJoZWlnaHQiLCJ0cmFuc2xhdGlvbk1hdHJpeCIsInR4IiwidHkiLCJyb3RhdGlvbk1hdHJpeCIsImRlZ3JlZXMiLCJyYWRpYW5zIiwiTWF0aCIsIlBJIiwicyIsInNpbiIsImMiLCJjb3MiLCJzY2FsZU1hdHJpeCIsInN4Iiwic3kiLCJhcnJheVRvTWF0cml4IiwiYXJyIiwic2l6ZSIsInJlcyIsImkiLCJsZW5ndGgiLCJwdXNoIiwic2xpY2UiLCJtdWx0aXBseU1hdHJpY2VzIiwiRiIsIlMiLCJpbmNsdWRlcyIsInBvdyIsInNxcnQiLCJBIiwidGhpcyIsIkIiLCJtYXAiLCJyb3ciLCJfIiwiaiIsInJlZHVjZSIsImFjYyIsIm4iLCJmbGF0IiwiY3JlYXRlUHJvZ3JhbUZyb21TY3JpcHRzIiwiZ2wiLCJ2cyIsImZzIiwicHJvZ3JhbSIsInZlcnRleFNoYWRlciIsImZyYWdtZW50U2hhZGVyIiwiY3JlYXRlUHJvZ3JhbSIsImF0dGFjaFNoYWRlciIsImxpbmtQcm9ncmFtIiwiZ2V0UHJvZ3JhbVBhcmFtZXRlciIsIkxJTktfU1RBVFVTIiwiY29uc29sZSIsImxvZyIsImdldFByb2dyYW1JbmZvTG9nIiwiZGVsZXRlUHJvZ3JhbSIsImNyZWF0ZVNoYWRlciIsIlZFUlRFWF9TSEFERVIiLCJGUkFHTUVOVF9TSEFERVIiLCJwcmVwYXJlVmlldyIsInZpZXdwb3J0IiwiY2FudmFzIiwiY2xlYXJDb2xvciIsImNsZWFyIiwiQ09MT1JfQlVGRkVSX0JJVCIsImdldFRyYW5zZm9ybWF0aW9uTWF0cml4IiwiZHJhd1V0aWxzIiwibWF0cml4IiwidHlwZSIsInNvdXJjZSIsInNoYWRlciIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJnZXRTaGFkZXJQYXJhbWV0ZXIiLCJDT01QSUxFX1NUQVRVUyIsImdldFNoYWRlckluZm9Mb2ciLCJkZWxldGVTaGFkZXIiLCJEcmF3IiwiZ2V0VGlja0luZm8iLCJsYXJnZXN0IiwibW9zdFRpY2tzIiwibWluaW11bSIsIm1hZ25pdHVkZSIsImZsb29yIiwibG9nMTAiLCJyZXNpZHVhbCIsInRpY2tIZWlnaHQiLCJmaW5kIiwiZSIsInRpY2tDb3VudCIsImNlaWwiLCJkcmF3TGluZXMiLCJzZXJpZXMiLCJwb3NpdGlvbkFMb2MiLCJnZXRBdHRyaWJMb2NhdGlvbiIsImNvbG9yVUxvYyIsImdldFVuaWZvcm1Mb2NhdGlvbiIsIm1hdHJpeFVMb2MiLCJtYXgiLCJhYnMiLCJ0aWNrSW5mbyIsInciLCJoIiwicGFkZGluZyIsIm1pbiIsInVuZGVyTGluZUFyZWFIZWlnaHQiLCJsaW5lc1BvaW50cyIsInN0YXJ0IiwiZW5kIiwibGluZUgiLCJkYXRhQnVmZmVyIiwiY3JlYXRlQnVmZmVyIiwiYmluZEJ1ZmZlciIsIkFSUkFZX0JVRkZFUiIsImJ1ZmZlckRhdGEiLCJJbnQxNkFycmF5IiwiU1RBVElDX0RSQVciLCJ1c2VQcm9ncmFtIiwidW5pZm9ybTRmIiwidW5pZm9ybU1hdHJpeDNmdiIsImVuYWJsZVZlcnRleEF0dHJpYkFycmF5IiwidmVydGV4QXR0cmliUG9pbnRlciIsIlNIT1JUIiwiZHJhd0FycmF5cyIsIkxJTkVTIiwiZHJhd0JhcnMiLCJXIiwibXVsdGlwaWVyIiwiY29sUG9pbnRzIiwiQ09MX05VTVMiLCJjb2xBcmVhV2lkdGgiLCJjb2xIZWlnaHQiLCJwb2ludExlZnRYIiwicG9pbnRMZWZ0WSIsIkZsb2F0MzJBcnJheSIsInJhbmRvbSIsIkZMT0FUIiwiQllURVNfUEVSX0VMRU1FTlQiLCJUUklBTkdMRVMiLCJkcmF3UmVjdCIsInBvc2l0aW9uQXR0cmlidXRlTG9jYXRpb24iLCJjb2xvclVuaWZvcm1Mb2NhdGlvbiIsIm1hdHJpeFVuaWZvcm1Mb2NhdGlvbiIsImRyYXdGIiwicG9zaXRpb25CdWZmZXIiLCJzZXRHZW9tZXRyeSIsInByaW1pdGl2ZVR5cGUiLCJDaGFydCIsImNvbnN0cnVjdG9yIiwiYW5hbHl6ZWRFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInJlcGxhY2UiLCJIVE1MQ2FudmFzRWxlbWVudCIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwiV2ViR0xSZW5kZXJpbmdDb250ZXh0IiwiRXJyb3IiLCJpbml0aWFsaXplQ2FudmFzIiwicmVzaXplT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsImVudHJpZXMiLCJvblJlc2l6ZUNhbGxiYWNrIiwib2JzZXJ2ZSIsImJveCIsImV4IiwiZm9yRWFjaCIsImVudHJ5IiwiZHByIiwiZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJpbmxpbmVTaXplIiwiYmxvY2tTaXplIiwiZ2V0V2lkdGhBbmRIZWlnaHQiLCJjb250ZW50Qm94U2l6ZSIsImNvbnRlbnRSZWN0Iiwic2V0TmV3Q2FudmFzU2l6ZSIsImRpc3BsYXlXaWR0aCIsInJvdW5kIiwiZGlzcGxheUhlaWdodCIsInN0YXRpYyIsImFycmF5IiwibGVuIiwiZmlsbFdpdGgiLCJuZXdPcHRpb25zIiwiYWN0dWFsT3B0aW9ucyIsImtleXMiLCJwYWlyIiwidmFsdWUiLCJCYXJDaGFydCIsInN1cGVyIiwib3B0aW9uc0ZvckNoYXJ0IiwidGl0bGUiLCJzaG93VGl0bGUiLCJzaG93TGVnZW5kIiwic2VyaWVzRGF0YSIsIlgiLCJsYWJlbHMiLCJkYXRhTGFiZWxzIiwiWSIsIm1hcHBlZFNlcmllcyIsInNlcmllIiwiQ2hhcnRVdGlscyIsInNsaWNlT3JGaWxsIiwiaW5kZXgiLCJnZXREZWZhdWx0U2VyaWVPYmplY3QiLCJ2YWx1ZXMiLCJuYW1lIiwib3B0aW9ucyIsImNvbG9yIiwiciIsImciLCJiIiwiYSIsInNob3dMYWJlbHMiLCJzaG93T25MZWdlbmQiLCJlZGdlVGhpY2tuZXNzIiwic2V0Q2hhcnRPcHRpb25zIiwibWVyZ2VSaWdodCIsInNldFNlcmllT3B0aW9ucyIsIndoaWNoU2VyaWVzIiwic2VyaWVOYW1lIiwiYWN0dWFsU2VyaWUiLCJleGlzdGluZ1NlcmllIiwid2FybiIsImRyYXciLCJQaWVDaGFydCIsImxhYmVsIiwibWFwcGVkVmFsdWVzIiwib3B0aW9uIiwic2VydmVDaGFydCIsInRvTG93ZXJDYXNlIiwidHJpbSJdLCJzb3VyY2VSb290IjoiIn0=